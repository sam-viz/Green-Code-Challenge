function Slideshow(a){function b(){z.removeClass("loading"),w.autoplay&&c(),w.loop&&i(),h(),F.div=C.find(".slide"),F.count=F.div.length,z.has(".slideTabs")&&e(),m(),$(window).on("resize.slideshow",f),$(window).trigger("resize.slideshow")}function c(){w.loop=!0,u=window.setTimeout(function(){t=window.setInterval(function(){j("next")},w.displayTime)},w.autoplay_start_delay)}function d(){w.autoplay&&(w.autoplay=!1,window.clearInterval(t),window.clearTimeout(u))}function e(){var a=z.find(".slideTabs");if(0===a.children().length)for(var b=w.loop?F.count-2:F.count/w.visibleSlidesCount,c=0;b>c;c++)a.append('<a href="#"></a>');a.on("click","a",function(a){a.preventDefault(),d(),D=w.visibleSlidesCount>1?$(this).index()*w.visibleSlidesCount+1:$(this).index()+1,l(w.loop?D:D-1)})}function f(){x.width=z.width(),w.multiple_slides?w.visibleSlidesCount>1&&F.div.width(g()):F.div.width(x.width),k(),l(w.loop?D:D-1,0),w.variableHeight&&n()}function g(){var a=w.visibleSlidesCount,b=z.find(".wrapper").width(),c=(a-1)*w.slide_margin_right,d=(100-c)/a,e=parseInt(b*d/100),f=parseInt(b*w.slide_margin_right/100);return z.find(".slide").width(e).css("margin-right",f),e}function h(){z.on("click",".prev, .next",function(a){if(a.preventDefault(),!$(this).hasClass("disabled")){d();var b=$(this).hasClass("next")?"next":"previous";j(b)}})}function i(){var a=C.find(".slide").first().clone().addClass("fake post_last"),b=C.find(".slide").last().clone().addClass("fake pre_first");C.append(a).prepend(b)}function j(a){var b=w.visibleSlidesCount;"next"==a?w.loop?D<F.count-1?D++:(C.css({left:-F.div.eq(1).position().left}),D=2):D<F.count&&(D+=b):w.loop?D>0?D--:(C.css({left:-F.div.eq(F.count-2).position().left}),D=F.count-3):D>b&&(D-=b),l(w.loop?D:D-1)}function k(){var a=0,b=parseInt(F.div.css("margin-right"))||0;C.width(5e4);for(var c=0;c<F.count;c++)F.div.eq(c).css("left",a+"px"),a=a+F.div.eq(c).outerWidth()+b,G=a;C.width(G)}function l(a,b){var c=void 0===b?w.transition_delay:b,d=F.div.eq(a),e=d.position().left,f=d.position().left+d.width()/2,g=x.width/2;w.multiple_slides&&"center"===w.align&&(f>g?G-g>f?e-=(x.width-d.width())/2:e=G-x.width:e=0),q(),E=a-1,F.div.removeClass("currentSlide"),d.addClass("currentSlide"),C.stop(!0,!1).animate({left:-e},c,w.easing,function(){w.variableHeight&&0==H&&n(),w.callback&&w.callback(x)})}function m(){var a,b,c=F.div;c.bind(TouchMouseEvent.DOWN,function(c){c.preventDefault(),a=c.pageX,b=a}),c.bind(TouchMouseEvent.MOVE,function(a){a.preventDefault(),b=a.pageX}),c.bind(TouchMouseEvent.UP,function(e){e.preventDefault();var f=c.index($(this));w.autoplay&&d(),0>b-a?j("next"):b-a>0?j("previous"):f!=D&&(D=f,k())})}function n(){$(y+" .wrapper").css("height",o()),w.align_buttons()}function o(){var a,b=w.loop?D:D-1;return a=1===w.visibleSlidesCount?$(y+" .slide").eq(b).outerHeight():function(){var a=0;return z.find(".slide").each(function(){var b=$(this).outerHeight();b>a&&(a=b)}),H=a,a}()}function p(){F.div=$(y+" .slide"),F.count=F.div.length,k(),D>F.count&&0!=F.count&&(D=F.count,l(D)),q()}function q(){0==F.count&&(D=0),$(y+" .slideNumber").text(D==F.count-1&&w.loop?"1":0==D&&w.loop?F.count-2:D),z.has(".slideTabs")&&r(),w.loop||s(),$(y+" .slidesCount").text(w.loop?F.count-2:F.count)}function r(){var a=$(y+" .slideTabs a");a.removeClass("selected"),w.loop?D==F.count-1?a.eq(0).addClass("selected"):0==D?a.eq(F.count-3).addClass("selected"):a.eq(D-1).addClass("selected"):a.eq(Math.ceil(D/w.visibleSlidesCount)-1).addClass("selected")}function s(){1==w.visibleSlidesCount?D==F.count&&1==D?(A.addClass("disabled"),B.addClass("disabled")):D==F.count?(A.removeClass("disabled"),B.addClass("disabled")):1==D?(A.addClass("disabled"),B.removeClass("disabled")):(A.removeClass("disabled"),B.removeClass("disabled")):D>F.count-w.visibleSlidesCount?(A.removeClass("disabled"),B.addClass("disabled")):D<w.visibleSlidesCount?(A.addClass("disabled"),B.removeClass("disabled")):(A.removeClass("disabled"),B.removeClass("disabled"))}var t,u,v={align:"left",autoplay:!1,autoplay_start_delay:0,callback:null,displayTime:3e3,easing:"swing",id:null,startingSlideNumber:1,visibleSlidesCount:1,slideTab_has_value:!1,transition_delay:500,preload_images:!0,loop:!0,variableHeight:!0,variableWidth:!0,role:"",loader_image:"img/loader.gif",multiple_slides:!1,slide_margin_right:0,align_buttons:function(){var a=z.find(".next").height();z.find(".prev, .next").css("top",(o()-a)/2)}},w=$.extend(!0,v,a),x=this,y="#"+w.id,z=$(y),A=z.find(".prev"),B=z.find(".next"),C=z.find(".slides"),D=w.startingSlideNumber,E=0,F={},G=0,H=0;this.width=0,this.slideNumber=function(a){return a?(D=parseInt(a),p(),l(D-1),void 0):D},this.getSlideCount=function(){return F.count},function(){if(z.addClass("loading"),C.find("img").length&&w.preload_images){if("function"!=typeof jQuery.fn.imagesLoaded)return void b();C.imagesLoaded(b)}else b()}()}!function(){TouchMouseEvent={DOWN:"touchmousedown",UP:"touchmouseup",MOVE:"touchmousemove"};var a=function(a){var b;switch(a.type){case"mousedown":b=TouchMouseEvent.DOWN;break;case"mouseup":b=TouchMouseEvent.UP;break;case"mousemove":b=TouchMouseEvent.MOVE;break;default:return}var d=c(b,a,a.pageX,a.pageY);$(a.target).trigger(d)},b=function(a){var b;switch(a.type){case"touchstart":b=TouchMouseEvent.DOWN;break;case"touchend":b=TouchMouseEvent.UP;break;case"touchmove":b=TouchMouseEvent.MOVE;break;default:return}var d,e=a.originalEvent.touches[0];d=b==TouchMouseEvent.UP?c(b,a,null,null):c(b,a,e.pageX,e.pageY),$(a.target).trigger(d)},c=function(a,b,c,d){return $.Event(a,{pageX:c,pageY:d,originalEvent:b})},d=$(document);"ontouchstart"in window?(d.on("touchstart",b),d.on("touchmove",b),d.on("touchend",b)):(d.on("mousedown",a),d.on("mouseup",a),d.on("mousemove",a))}();